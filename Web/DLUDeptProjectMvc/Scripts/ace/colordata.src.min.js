(function(n){n.extend({ColorLifeData:{IMGLoading:'<img src="/Content/Images/ajax-loader.gif" border="0" />',templateUrl:"/Content/templates/",imagesFolder:"/Content/images/",siteUrl:"http://localhost",serviceUrl:"/api/",loader:function(t){t?n("#Loader").fadeIn():n("#Loader").fadeOut()},notifyInfo:function(n){toastr.info(n,"Thông báo",options={closeButton:!0,positionClass:"toast-bottom-left"})},notifySuccess:function(n){toastr.success(n,"Thành công",options={closeButton:!0,positionClass:"toast-bottom-left"})},notifyError:function(n){toastr.warning(n,"Lỗi",options={closeButton:!0,positionClass:"toast-bottom-left"})},deleteConfirm:function(n,t){new BootstrapDialog({title:"Confirmation",message:n,closable:!1,draggable:!0,data:{callback:t},buttons:[{label:"Cancel",action:function(n){typeof n.getData("callback")=="function"&&n.getData("callback")(!1);n.close()}},{label:"OK",cssClass:"btn-primary",action:function(n){typeof n.getData("callback")=="function"&&n.getData("callback")(!0);n.close()}}]}).open()},deleteDataCallback:function(t){var u=n(t).closest("table").attr("id"),r=n(t).closest("tr"),i=r.attr("id"),f=n.ColorLifeData.serviceUrl+u+"/"+i,e={id:i};n.ajax({url:f,data:{id:i},type:"DELETE",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(r.remove(),n.ColorLifeData.notifySuccess(t.Message)):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})},jsonDeleteData:function(t){return n.ColorLifeData.deleteConfirm("Bạn chắc chắn muốn xóa mục này?",function(i){i&&n.ColorLifeData.deleteDataCallback(t)}),!1},jsonDeleteSelectedData:function(t){var u=n(t),i=n(".check:checked").length,r=n(".check:checked");return i==0?(n.ColorLifeData.notifyError("Vui lòng chọn dòng cần xóa!"),!1):(n.ColorLifeData.deleteConfirm("Bạn chắc chắn muốn xóa mục đã chọn?",function(i){i&&r.each(function(){var i=n(this).val(),r={id:i},u=n("#"+t+" > tbody > tr[id="+JSON.stringify(i)+"]"),f=t+"/"+i;n.ajax({url:n.ColorLifeData.serviceUrl+f,data:JSON.stringify(r),type:"DELETE",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,success:function(n){n.Success&&u.remove()},error:function(){}})})}),!1)},jsonDeleteAllData:function(t){return n.ColorLife.deleteConfirm("Cảnh báo! Chọn chức năng này sẽ xóa toàn bộ dữ liệu. Bạn chắc chắn muốn xóa tất cả?",function(i){if(i){var r=n(t);n.ajax({url:n.ColorLife.serviceUrl+t+"/DeleteAll/?id=1&x=1",type:"DELETE",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLife.loader(!0),complete:n.ColorLife.loader(!1),success:function(i){if(i.Success){var r=n("#"+t+" > tbody");r.empty();n("#PagingControl1").html("");n.ColorLife.notifySuccess(i.Message);console.log()}else n.ColorLife.notifyError(i.Message),console.log(i.Message)},error:function(t){n.ColorLife.notifyError(t.responseText);console.log(t.responseText)}})}}),!1},jsonIsPublishedData:function(t){var u=n(t).closest("table").attr("id"),i=n(t).closest("tr"),f=i.attr("id"),r=n(t).closest("span"),o=r.attr("class"),s=i.attr("data-ispublish"),e=s=="True"?"False":"True",h={id:f},c="Json"+u+"_IsPublished";return n.ajax({url:n.ColorLifeData.serviceUrl+u+"/PutIsPublished/"+f,data:JSON.stringify(h),type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(r.removeClass(o),r.addClass("published-"+e),i.attr("data-ispublish",e),n.ColorLifeData.notifySuccess(t.Message)):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonSortOrderData:function(t,i){var u=n(t).closest("table").attr("id"),f=n(t).closest("tr"),r=f.attr("id"),e={id:r,number:i};return n.ajax({url:n.ColorLifeData.serviceUrl+u+"/PutSortOrder?id="+r+"&number="+i,type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonSettingUpdate:function(t){var i=n(t),r={SettingID:n(i).attr("id"),Name:n(i).attr("id"),Value:n(i).val()};return r.Value.length>0?n.ajax({url:n.ColorLifeData.serviceUrl+"Setting",data:JSON.stringify(r),type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ."),!1},jsonEditableSetting:function(){n("#Setting a.editable").editable({type:"text",name:"Name",title:"Nhập vào giá trị",ajaxOptions:{type:"put",dataType:"json"},validate:function(t){if(n.trim(t)=="")return"This field is required"},url:function(t){var i={Name:t.pk,Value:t.value};return n.ajax({type:"PUT",url:n.ColorLifeData.serviceUrl+"Setting",data:JSON.stringify(i),contentType:"application/json; charset=utf-8",dataType:"json",async:!0,cache:!1,timeout:1e4,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})}})},jsonInsertProductStore:function(t){var i=n(t),r={ProductID:jQuery("#ProductID").val(),StoreID:i.find("#StoreID").val(),SalerID:i.find("#SalerID").val(),CustomerID:i.find("#CustomerID").val(),DateAdded:i.find("#DateAdded").val(),Quantity:i.find("#Quantity").val(),DateEnded:i.find("#DateEnded").val(),Status:i.find("#StoreStatus").val()};return r.ProductID.length&&r.StoreID.length?n.ajax({url:n.ColorLifeData.serviceUrl+"ProductStored",data:JSON.stringify(r),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(i).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonStaffCheckEmailValidate:function(t,i){return t.length?(n.ajax({url:n.ColorLife.serviceUrl+"Staff/CheckEmailAvailable/"+t,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){i(n)},error:function(n){alert(n.responseText)}}),!1):!1},jsonGetDataObject:function(t,i,r){n.ajax({type:"GET",url:n.ColorLife.serviceUrl+i+"/"+t,contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){},success:function(n){r(n.Data)},error:function(){return null}})},jsonGetDataList:function(t,i,r){n.ajax({type:"GET",url:n.ColorLife.serviceUrl+i+"/"+t,contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){},success:function(n){r(n.ListData)},error:function(){return null}})},jsonGetProductImageById:function(t){n.ColorLifeData.jsonGetDataList(t,"ProductImage/GetByProduct",function(t){var i='<ul class="ace-thumbnails clearfix">';n.each(t,function(n,t){i+=" <li>";i+=' <a data-rel="colorbox" href="'+t.ImageUrl+'" class="cboxElement">';i+='<img width="150" height="150" src="'+t.ImageUrl+'" alt="150x150">';i+='<div class="text"><div class="inner">Click để xem<\/div><\/div>';i+="<\/a>";i+=' <div class="tools tools-bottom">';i+='<a href="#" onclick="return $.ColorLifeData.jsonDeleteProductImage('+t.ImageID+","+t.ProductID+')">';i+='   <i class="ace-icon fa fa-times red"><\/i>';i+="<\/a>";i+="   <\/div>";i+=" <\/li>"});i+="<\/ul>";n("#ProductImage").html(i)})},jsonInsertProductImage:function(t,i){var r={ImageID:-1,ProductID:t,ImageUrl:i};return n.ajax({url:n.ColorLifeData.serviceUrl+"ProductImage",data:JSON.stringify(r),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?(n.ColorLifeData.notifySuccess(i.Message),n.ColorLifeData.jsonGetProductImageById(t)):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonDeleteProductImage:function(t,i){return n.ajax({url:n.ColorLifeData.serviceUrl+"ProductImage/"+t,type:"DELETE",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(n.ColorLifeData.notifySuccess(t.Message),n.ColorLifeData.jsonGetProductImageById(i)):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonInsertDienNuoc:function(){var t={IDDienNuoc:-1,IDPhong:n("#IDPhong").val(),ChiSoMoi:n("#ChiSoCuoi").val(),Thang:n("#Thang").val(),LoaiSuDung:n("#formThemDienNuoc input[type='radio']:checked").val()};return n.ajax({url:n.ColorLifeData.serviceUrl+"DienNuoc",data:JSON.stringify(t),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonGetAllFileIconMenu:function(){return n.ajax({url:n.ColorLifeData.serviceUrl+"FileIconMenu/LoadAllMenuIcon?path=/content/icons/",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n("#datafileicon").html(t.Data):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeTongSoSinhVienKhuNoiTru:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe/ThongKeTongSoSinhVienKhuNoiTru/1",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeSVTheoDanToc:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe/ThongKeTongSoSinhVienDanToc/1",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeSVTheoKhoa:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe/ThongKeTongSoSinhVienKhoa/1",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeSVTheoKhoaHoc:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe/ThongKeTongSoSinhVienKhoaHoc/1",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeSVTheoTinhThanh:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe/ThongKeTongSoSinhVienTinhThanh/1",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeSVTheoDTUT:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe/ThongKeTongSoSinhVienDoiTuongUuTien/1",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeTongSoThanNhan:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe/ThongKeTongSoThanNhanHoGiaDinh/1",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeHoSoChiTiet:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeSVTheoKhuNha:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKeSVTheoKhuNha",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeSVTheoQuocGia:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe/ThongKeTongSoSinhVienNuocNgoai/1",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeGVTheoQuocGia:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe/ThongKeTongSoGiaoVienNuocNgoai/1",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKePhongChiTiet:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe/ThongKePhong/1",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeThietBiChiTiet:function(t){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe/ThongKeThietBi/1",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeHoaDonChiTiet:function(t,i){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKe/ThongKeHoaDon/?id=1&year="+i,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeTongThuHDSinhVienTheoNam:function(t,i){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKeHoaDonSinhVien?year="+i,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeTongThuHDSinhVienTheoThang:function(t,i,r){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKeHoaDonSinhVien/GetByMonth?fromDate="+i+"&toDate="+r,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeTongThuHDTienDienTheoNam:function(t,i){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKeHoaDonTienDien?year="+i,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeTongThuHDTienDienTheoThang:function(t,i,r){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKeHoaDonTienDien/GetByMonth?fromDate="+i+"&toDate="+r,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeTongThuHDTienNuocTheoNam:function(t,i){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKeHoaDonTienNuoc?year="+i,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeTongThuHDTienNuocTheoThang:function(t,i,r){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKeHoaDonTienNuoc/GetByMonth?fromDate="+i+"&toDate="+r,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeHoaDonTongThuKNTTheoNam:function(t,i){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKeHoaDonTongThuKNT?year="+i,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonThongKeHoaDonTongThuKNTTheoThang:function(t,i,r){return n.ajax({url:n.ColorLifeData.serviceUrl+"ThongKeHoaDonTongThuKNT/GetByMonth?fromDate="+i+"&toDate="+r,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonBaoHongThietBi:function(t){var i=n(t).closest("table").attr("id"),r=n(t).closest("tr"),u=r.attr("id");return n.ajax({url:n.ColorLifeData.serviceUrl+i+"/BaoHongThietBi?id="+u,type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonBaoMatThietBi:function(t){var i=n(t).closest("table").attr("id"),r=n(t).closest("tr"),u=r.attr("id");return n.ajax({url:n.ColorLifeData.serviceUrl+i+"/BaoMatThietBi?id="+u+"&abc=1",type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonTraThietBi:function(t){var i=n(t).closest("table").attr("id"),r=n(t).closest("tr"),u=r.attr("data-id2");return n.ajax({url:n.ColorLifeData.serviceUrl+i+"/TraThietBi?id="+u+"&abc=1",type:"DELETE",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonPhongChiTietModal_openModal:function(t){var i=n("#myPhongChiTietModal");n.ajax({url:n.ColorLifeData.serviceUrl+"Phong/"+t,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){var u,e,r,f;t.Success?(i.find(".modal-title").html("Phòng "+t.Data.Phong.Ten),i.find(".tenphong").html(t.Data.Phong.Ten),i.find(".tenkhunha").html(t.Data.Phong.KhuNha.Ten),i.find(".loaiphong").html(t.Data.Phong.GetLoaiPhong+" - "+t.Data.Phong.GetLoaiPhongSuDung),i.find(".tinhtrangphong").html(t.Data.Phong.GetTrangThaiPhong),i.find(".sogiuong").html(t.Data.Phong.SoGiuong),i.find(".ghichu").html(t.Data.Phong.GhiChu),i.find(".badge").html(t.Data.HoSos.length),u='<table class="table table-hover table-nomargin dataTable table-bordered">',u+="<tr>",u+="<th>MSSV<\/th>",u+="<th>Họ tên / Giới tính<\/th>",u+="<th>Ngày sinh<\/th>",u+="<th>Email/Số ĐT<\/th>",u+="<th>Ngào vào / ra<\/th>",u+="<th>Lớp<\/th>",u+="<th><\/th>",u+="<\/tr>",e="",n.each(t.Data.HoSos,function(n,t){e+="<tr>";e+="<td>"+t.MaSoCaNhan+"<\/td>";e+='<td><a href="../QLSinhVien/Default?controller=CTSinhVien&ID='+t.MaSoCaNhan+'">'+t.HoTenDayDu+"<\/a> ("+t.GioiTinh+")<\/td>";e+="<td>"+t.NgaySinh+"<\/br>CMND: "+t.SoCMND+"<\/td>";e+="<td>"+t.Email+"<\/br>"+t.SoDienThoai+"<\/td>";e+="<td>"+t.NgayBatDau+"<\/br>"+t.NgayKetThuc+"<\/td>";e+="<td>"+t.Lop+"<\/td>";e+='<td><a href="../Phong/Default?controller=DoiPhong&MSCN='+t.MaSoCaNhan+'" title="Đổi phòng" rel="tooltip"><i class="fa fa-refresh"><\/i><\/a><a href="../Phong/Default?controller=TraPhong&MSCN='+t.MaSoCaNhan+'" title="Trả phòng" rel="tooltip"><i class="fa fa-times"><\/i><\/a><\/td>';e+="<\/tr>"}),u+=e,u+="<\/table>",i.find("#danhSach").html(u),r='<table class="table table-hover table-nomargin dataTable table-bordered">',r+="<tr>",r+="<th>Kỳ SD<\/th>",r+="<th>Loại HD<\/th>",r+="<th>CS cũ<\/th>",r+="<th>Cs mới<\/th>",r+="<th>Tổng mức<\/th>",r+="<th>Đơn giá<\/th>",r+="<th>Thành tiền<\/th>",r+="<th>Trạng thái<\/th>",r+="<th><\/th>",r+="<\/tr>",f="",n.each(t.Data.DSHoaDonDienNuocs,function(n,t){f+="<tr>";f+="<td>"+t.Thang+"/"+t.Nam+"<\/td>";f+="<td>"+t.GetLoaiHoaDon+"<\/td>";f+="<td>"+t.GetChiSoCu+"<\/td>";f+="<td>"+t.GetChiSoMoi+"<\/td>";f+="<td>"+t.GetTongMucTieuThu+"<\/td>";f+="<td>"+t.DonGia+"<\/td>";f+="<td>"+t.ThanhTien+"<\/td>";f+="<td>"+t.GetTrangThai+"<\/td>";f+='<td><a href="../HoaDon/Default?controller=CTHDTienDienNuoc&id='+t.IDHoaDon+'" title="Chi tiết" rel="tooltip"><i class="fa fa-edit"><\/i><\/a><\/td>';f+="<\/tr>"}),r+=f,r+="<\/table>",r+='<a href="Default.aspx?controller=ThemHoaDon&IDPhong='+t.Data.Phong.IDPhong+'" class="btn btn-primary pull-right">Thêm điện nước<\/a>',r+="<\/br>",i.find("#dienNuoc").html(r),i.find(".linkchitiet").attr("href","Default.aspx?controller=CTPhong&IDPhong="+t.Data.Phong.IDPhong),n(i).modal("show")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})},jsonUpdateHitsData:function(t){var i=n(t).attr("data-table"),r=n(t).attr("data-id"),u="Json"+i+"_UpdateHits",f={id:r};return n.ajax({url:n.ColorLife.serviceUrl+u,data:JSON.stringify(f),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,success:function(n){n.Success},error:function(){}}),!1},jsonGetCaiDat:function(t){n.ajax({url:n.ColorLifeData.serviceUrl+"CaiDat/"+t,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?alert(t.Data.KeyValue):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})},jsonGetCaiDatThongTinCongTy:function(t){n.ajax({url:n.ColorLifeData.serviceUrl+"ThongTinCongTy",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})},jsonUpdateThongTinCongTy:function(){var t=n("#myModalThongTin"),i={TenCongTy:t.find("#CTY_TEN").val(),DiaChi:t.find("#CTY_DIACHI").val(),SoDienThoai:t.find("#CTY_SODT").val(),Fax:t.find("#CTY_FAX").val(),Website:t.find("#CTY_WEBSITE").val(),Email:t.find("#CTY_EMAIL").val(),LinhVuc:t.find("#CTY_LINHVUC").val(),MST:t.find("#CTY_MST").val(),Logo:t.find("#CTY_LOGO").val(),GPKD:t.find("#CTY_GPKD").val()};return i.TenCongTy.length&&i.DiaChi.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"ThongTinCongTy",data:JSON.stringify(i),type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){},success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(t).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonGetCaiDatMaTuDong:function(t){n.ajax({url:n.ColorLifeData.serviceUrl+"MaTuDong",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?t(i.Data):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})},jsonUpdateMaTuDong:function(){var t=n("#myModalMaTuDong"),i={HangHoa:t.find("#MA_HH").val(),KhachHang:t.find("#MA_KH").val(),NhaCungCap:t.find("#MA_NCC").val(),PhieuNhap:t.find("#MA_PN").val(),PhieuXuat:t.find("#MA_PX").val(),PhieuChuyenKho:t.find("#MA_PCH").val(),PhieuNhapTra:t.find("#MA_PNT").val(),PhieuXuatTra:t.find("#MA_PXT").val(),PhieuThu:t.find("#MA_PT").val(),PhieuChi:t.find("#MA_PC").val(),PhieuThuKhac:t.find("#MA_PTK").val(),PhieuChiKhac:t.find("#MA_PCK").val()};return i.HangHoa.length&&i.KhachHang.length?n.ajax({url:n.ColorLifeData.serviceUrl+"MaTuDong",data:JSON.stringify(i),type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){},success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(t).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonEditableCaiDat:function(){n("#CaiDat a.editable").editable({type:"text",name:"KeyName",title:"Nhập vào giá trị",ajaxOptions:{type:"put",dataType:"json"},validate:function(t){if(n.trim(t)=="")return"This field is required"},url:function(t){var i={KeyName:t.pk,KeyValue:t.value};return n.ajax({type:"PUT",url:n.ColorLifeData.serviceUrl+"CaiDat",data:JSON.stringify(i),contentType:"application/json; charset=utf-8",dataType:"json",async:!0,cache:!1,timeout:1e4,success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})}})},jsonGetHoSo:function(t){n.ajax({url:n.ColorLifeData.serviceUrl+"HoSo/"+t,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?alert(t.Data.KeyValue):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})},jsonValidateMaSoCaNhan:function(t){t===""?n.ColorLifeData.notifyError("Vui lòng nhập Mã số cá nhân."):n.ajax({url:n.ColorLifeData.serviceUrl+"HoSo/GetValidate/"+t,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(n(".masocanhan").val(""),n.ColorLifeData.notifyError(t.Message)):n.ColorLifeData.notifyInfo(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})},jsonValidateMaSoSinhVien:function(t){t===""?n.ColorLifeData.notifyError("Vui lòng nhập Mã số Sinh viên."):n.ajax({url:n.ColorLifeData.serviceUrl+"Student/GetValidate/"+t,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(n(".masocanhan").val(""),n.ColorLifeData.notifyError(t.Message)):n.ColorLifeData.notifyInfo(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})},jsonValidateMaSoCaNhanHoaDon:function(t){t===""&&n.ColorLifeData.notifyError("Vui lòng nhập Mã số cá nhân.");n.ajax({url:n.ColorLifeData.serviceUrl+"HoSo/?id="+t+"&x=1",type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success||(n(".masocanhan").val(""),n.ColorLifeData.notifyError(t.Message))},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})},jsonInsertNhomHangHoa:function(t){var i=n(t),r={IDNhomHangHoa:i.find("#IDNhomHangHoa").val(),TenNhomHangHoa:i.find("#TenNhomHangHoa").val(),GhiChu:i.find("#GhiChu").val()};return r.IDNhomHangHoa.length&&r.TenNhomHangHoa.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"NhomHangHoa",data:JSON.stringify(r),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(n.ColorLifeData.notifySuccess(t.Message),i.find("#IDNhomHangHoa").val(t.Data),i.find("#TenNhomHangHoa").val(""),i.find("#GhiChu").val("")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(i).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonInsertNhomHangHoa2:function(t){var i=n(t),r={IDNhomHangHoa:i.find("#IDNhomHangHoa").val(),TenNhomHangHoa:i.find("#TenNhomHangHoa").val(),GhiChu:i.find("#GhiChu").val()};return r.IDNhomHangHoa.length&&r.TenNhomHangHoa.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"NhomHangHoa",data:JSON.stringify(r),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(n.ColorLifeData.notifySuccess(t.Message),n(".idnhomhanghoa").each(function(){n(this).append("<option value="+r.IDNhomHangHoa+' selected="selected">'+r.TenNhomHangHoa+"<\/option>")}),i.find("#IDNhomHangHoa").val(t.Data),i.find("#TenNhomHangHoa").val(""),i.find("#GhiChu").val(""),i.modal("hide")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(i).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonGetNhomHangHoa:function(t){var i=n("#editModal");return n.ajax({url:n.ColorLifeData.serviceUrl+"NhomHangHoa/"+t,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(i.find("#IDNhomHangHoa").val(t.Data.IDNhomHangHoa),i.find("#TenNhomHangHoa").val(t.Data.TenNhomHangHoa),i.find("#GhiChu").val(t.Data.GhiChu),i.modal("show")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonUpdateNhomHangHoa:function(t){var i=n(t),r={IDNhomHangHoa:i.find("#IDNhomHangHoa").val(),TenNhomHangHoa:i.find("#TenNhomHangHoa").val(),GhiChu:i.find("#GhiChu").val()};return r.IDNhomHangHoa.length&&r.TenNhomHangHoa.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"NhomHangHoa",data:JSON.stringify(r),type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){},success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(i).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonEditableNhomHangHoa:function(){n("#NhomHangHoa a.editable").editable({type:"text",name:"TenNhomHangHoa",title:"Nhập vào tên Nhóm Hàng Hóa",ajaxOptions:{type:"put",dataType:"json"},validate:function(t){if(n.trim(t)=="")return"This field is required"},url:function(t){var i={IDNhomHangHoa:t.pk,TenNhomHangHoa:t.value};return n.ajax({type:"PUT",url:n.ColorLifeData.serviceUrl+"NhomHangHoa",data:JSON.stringify(i),contentType:"application/json; charset=utf-8",dataType:"json",async:!0,cache:!1,timeout:1e4,success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})}})},jsonInsertKho:function(t){var i=n(t),r={IDKho:i.find("#IDKho").val(),TenKho:i.find("#TenKho").val(),GhiChu:i.find("#GhiChu").val()};return r.IDKho.length&&r.TenKho.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"Kho",data:JSON.stringify(r),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(n.ColorLifeData.notifySuccess(t.Message),i.find("#IDKho").val(t.Data),i.find("#TenKho").val(""),i.find("#GhiChu").val("")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(i).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonGetKho:function(t){var i=n("#editModal");return n.ajax({url:n.ColorLifeData.serviceUrl+"Kho/"+t,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(i.find("#IDKho").val(t.Data.IDKho),i.find("#TenKho").val(t.Data.TenKho),i.find("#GhiChu").val(t.Data.GhiChu),i.modal("show")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonUpdateKho:function(t){var i=n(t),r={IDKho:i.find("#IDKho").val(),TenKho:i.find("#TenKho").val(),GhiChu:i.find("#GhiChu").val()};return n.ajax({url:n.ColorLifeData.serviceUrl+"Kho",data:JSON.stringify(r),type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){},success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonEditableKho:function(){n("#Kho a.editable").editable({type:"text",name:"TenKho",title:"Nhập vào tên kho",ajaxOptions:{type:"put",dataType:"json"},validate:function(t){if(n.trim(t)=="")return"This field is required"},url:function(t){var i={IDKho:t.pk,TenKho:t.value};return n.ajax({type:"PUT",url:n.ColorLifeData.serviceUrl+"Kho",data:JSON.stringify(i),contentType:"application/json; charset=utf-8",dataType:"json",async:!0,cache:!1,timeout:1e4,success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})}})},jsonInsertDonViTinh:function(t){var r=n(t),i={IDDVT:r.find("#IDDVT").val(),TenDVT:r.find("#TenDVT").val()};return i.IDDVT.length&&i.TenDVT.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"DonViTinh",data:JSON.stringify(i),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){if(t.Success){n.ColorLifeData.notifySuccess(t.Message);r.find("#IDDVT").val("");r.find("#TenDVT").val("");var u;u=n("<tr id="+i.IDDVT+"/>");u.append('<td class=\'with-checkbox\'> <input type="checkbox" name="check" class="check" value='+i.IDDVT+"><\/td>");u.append("<td class='table-item-title'>"+i.IDDVT+"<\/td>");u.append("<td class='table-item-title'>"+i.TenDVT+"<\/td>");u.append("<td class='table-item-title'><\/td>");u.append("<td class='td-actions'><\/td>");n("table[id^=DonViTinh] tbody").append(u)}else n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(r).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonInsertDonViTinh2:function(t){var i=n(t),r={IDDVT:i.find("#IDDVT").val(),TenDVT:i.find("#TenDVT").val()};return r.IDDVT.length&&r.TenDVT.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"DonViTinh",data:JSON.stringify(r),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(n.ColorLifeData.notifySuccess(t.Message),n(".donvitinh").each(function(){n(this).append("<option value="+r.IDDVT+' selected="selected">'+r.TenDVT+"<\/option>")}),i.find("#IDDVT").val(""),i.find("#TenDVT").val(""),i.modal("hide")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(i).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonGetDonViTinh:function(t){var i=n("#editModal");return n.ajax({url:n.ColorLifeData.serviceUrl+"DonViTinh/"+t,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(i.find("#IDDVT").val(t.Data.IDDVT),i.find("#TenDVT").val(t.Data.TenDVT),i.modal("show")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonUpdateDonViTinh:function(t){var i=n(t),r={IDDVT:i.find("#IDDVT").val(),TenDVT:i.find("#TenDVT").val()};return r.IDDVT.length&&r.TenDVT.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"DonViTinh",data:JSON.stringify(r),type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){},success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(i).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonEditableDonViTinh:function(){n("#DonViTinh a.editable").editable({type:"text",name:"TenDVT",title:"Nhập vào tên Đơn vị tính",ajaxOptions:{type:"put",dataType:"json"},validate:function(t){if(n.trim(t)=="")return"This field is required"},url:function(t){var i={IDDVT:t.pk,TenDVT:t.value};return n.ajax({type:"PUT",url:n.ColorLifeData.serviceUrl+"DonViTinh",data:JSON.stringify(i),contentType:"application/json; charset=utf-8",dataType:"json",async:!0,cache:!1,timeout:1e4,success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})}})},jsonInsertTaiKhoan:function(){var t=n("#addNewModal"),i={TenTK:t.find("#TenTK").val(),SoTaiKhoan:t.find("#SoTaiKhoan").val(),SoTien:t.find("#SoTien").val(),GhiChu:t.find("#GhiChu").val()};return i.TenTK.length&&i.SoTaiKhoan.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"TaiKhoan",data:JSON.stringify(i),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(i){i.Success?(n.ColorLifeData.notifySuccess(i.Message),t.find("#TenTK").val(""),t.find("#SoTaiKhoan").val(""),t.find("#SoTien").val(""),t.find("#GhiChu").val("")):n.ColorLifeData.notifyError(i.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(t).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonGetTaiKhoan:function(t){var i=n("#editModal");return n.ajax({url:n.ColorLifeData.serviceUrl+"TaiKhoan/"+t,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(i.find("#IDTaiKhoan").val(t.Data.IDTaiKhoan),i.find("#TenTK").val(t.Data.TenTK),i.find("#SoTaiKhoan").val(t.Data.SoTaiKhoan),i.find("#SoTien").val(t.Data.SoTien),i.find("#GhiChu").val(t.Data.GhiChu),i.modal("show")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonUpdateTaiKhoan:function(){var t=n("#editModal"),i={IDTaiKhoan:t.find("#IDTaiKhoan").val(),TenTK:t.find("#TenTK").val(),SoTaiKhoan:t.find("#SoTaiKhoan").val(),SoTien:t.find("#SoTien").val(),GhiChu:t.find("#GhiChu").val()};return i.TenTK.length&&i.SoTaiKhoan.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"TaiKhoan",data:JSON.stringify(i),type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){},success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(t).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonInsertKhachHang:function(t){var i=n(t),r={IDKhachHang:i.find("#IDKhachHang").val(),HoTenKhachHang:i.find("#HoTenKhachHang").val(),DiaChi:i.find("#DiaChi").val(),SoDienThoai:i.find("#SoDienThoai").val(),Email:i.find("#Email").val(),MaSoThue:i.find("#MaSoThue").val(),TaiKhoan:i.find("#TaiKhoan").val(),NguoiLienHe:i.find("#NguoiLienHe").val(),NoDau:i.find("#NoDau").val(),Ngung:i.find("#Ngung").val(),Kho:i.find("#Kho").val(),GhiChu:i.find("#GhiChu").val()};return r.IDKhachHang.length&&r.HoTenKhachHang.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"KhachHang",data:JSON.stringify(r),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(n.ColorLifeData.notifySuccess(t.Message),i.find("#IDKhachHang").val(t.Data),i.find("#HoTenKhachHang").val(),i.find("#DiaChi").val(),i.find("#SoDienThoai").val(),i.find("#Email").val(),i.find("#MaSoThue").val(),i.find("#TaiKhoan").val(),i.find("#NguoiLienHe").val(),i.find("#NoDau").val(),i.find("#Ngung").val(),i.find("#Kho").val(),i.find("#GhiChu").val()):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(i).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonGetKhachHang:function(t){var i=n("#editModal");return n.ajax({url:n.ColorLifeData.serviceUrl+"KhachHang/"+t,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(i.find("#IDKhachHang").val(t.Data.IDKhachHang),i.find("#HoTenKhachHang").val(t.Data.HoTenKhachHang),i.find("#DiaChi").val(t.Data.DiaChi),i.find("#SoDienThoai").val(t.Data.SoDienThoai),i.find("#Email").val(t.Data.Email),i.find("#MaSoThue").val(t.Data.MaSoThue),i.find("#TaiKhoan").val(t.Data.TaiKhoan),i.find("#NguoiLienHe").val(t.Data.NguoiLienHe),i.find("#NoDau").val(t.Data.NoDau),i.find("#Ngung").val(t.Data.Ngung),i.find("#Kho").val(t.Data.Kho),i.find("#GhiChu").val(t.Data.GhiChu),i.modal("show")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonUpdateKhachHang:function(t){var i=n(t),r={IDKhachHang:i.find("#IDKhachHang").val(),HoTenKhachHang:i.find("#HoTenKhachHang").val(),DiaChi:i.find("#DiaChi").val(),SoDienThoai:i.find("#SoDienThoai").val(),Email:i.find("#Email").val(),MaSoThue:i.find("#MaSoThue").val(),TaiKhoan:i.find("#TaiKhoan").val(),NguoiLienHe:i.find("#NguoiLienHe").val(),NoDau:i.find("#NoDau").val(),Ngung:i.find("#Ngung").val(),Kho:i.find("#Kho").val(),GhiChu:i.find("#GhiChu").val()};return r.IDKhachHang.length&&r.HoTenKhachHang.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"KhachHang",data:JSON.stringify(r),type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){},success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(i).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonInsertAccountGroup:function(t){var i=n(t),r={Name:i.find("#Name").val()};return r.Name.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"AccountGroup",data:JSON.stringify(r),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(n.ColorLifeData.notifySuccess(t.Message),i.find("#Name").val("")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(i).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonInsertAccountGroup2:function(t){var i=n(t),r={Name:i.find("#Name").val()};return r.Name.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"AccountGroup",data:JSON.stringify(r),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(n.ColorLifeData.notifySuccess(t.Message),n(".donvitinh").each(function(){n(this).append("<option value="+DonViTinh.IDDVT+' selected="selected">'+DonViTinh.TenDVT+"<\/option>")}),i.find("#IDDVT").val(""),i.find("#TenDVT").val(""),i.modal("hide")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(i).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonGetAccountGroup:function(t){var i=n("#editModal");return n.ajax({url:n.ColorLifeData.serviceUrl+"AccountGroup/"+t,type:"GET",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?(i.find("#GroupID").val(t.Data.GroupID),i.find("#Name").val(t.Data.Name),i.modal("show")):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonUpdateAccountGroup:function(t){var i=n(t),r={GroupID:i.find("#GroupID").val(),Name:i.find("#Name").val()};return r.GroupID.length&&r.Name.length>3?n.ajax({url:n.ColorLifeData.serviceUrl+"AccountGroup",data:JSON.stringify(r),type:"PUT",contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:function(){},success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}):(n(i).find(".form-group").removeClass("has-error has-success").addClass("has-error"),n.ColorLifeData.notifyError("Bạn cần nhập dữ liệu đầy đủ.")),!1},jsonEditableAccountGroup:function(){n("#AccountGroup a.editable").editable({type:"text",name:"Name",title:"Nhập vào tên nhóm",ajaxOptions:{type:"put",dataType:"json"},validate:function(t){if(n.trim(t)=="")return"This field is required"},url:function(t){var i={GroupID:t.pk,Name:t.value};return n.ajax({type:"PUT",url:n.ColorLifeData.serviceUrl+"AccountGroup",data:JSON.stringify(i),contentType:"application/json; charset=utf-8",dataType:"json",async:!0,cache:!1,timeout:1e4,success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}})}})},jsonAddAccountToGroup:function(t,i){var r={AccountID:t,GroupID:i};return n.ajax({url:n.ColorLifeData.serviceUrl+"Account/AddAccountToGroup/"+t,data:JSON.stringify(r),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonAddFunctionToGroup:function(t,i){var r={id:t,fId:i};return n.ajax({url:n.ColorLifeData.serviceUrl+"AccountGroup/AddFunctionToGroup?id="+t+"&fId="+i,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonRemoveFunctionFromGroup:function(t,i){var r={id:t,fId:i};return n.ajax({url:n.ColorLifeData.serviceUrl+"AccountGroup/RemoveFunctionFromGroup?id="+t+"&fId="+i,type:"DELETE",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonGrantPermisstion:function(t,i){var r={GroupID:t,FunctionID:i};return n.ajax({url:n.ColorLifeData.serviceUrl+"AccountGroup/GrantPermission/1",data:JSON.stringify(r),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1},jsonGrantAllPermisstion:function(t){var i={GroupID:1,FunctionID:1,GroupFunctionID:t};return n.ajax({url:n.ColorLifeData.serviceUrl+"Permission/GrantAllPermisstion/1",data:JSON.stringify(i),type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",async:!0,beforeSend:n.ColorLifeData.loader(!0),complete:n.ColorLifeData.loader(!1),success:function(t){t.Success?n.ColorLifeData.notifySuccess(t.Message):n.ColorLifeData.notifyError(t.Message)},error:function(t){n.ColorLifeData.notifyError(t.responseText)}}),!1}}})})(jQuery);
/*
//# sourceMappingURL=colordata.src.min.js.map
*/